"use strict";(()=>{var p=async function(){let g=async function(){let t=document.querySelector(".positions_wrapper"),o=t==null?void 0:t.cloneNode(!0),e=t.parentElement,n=document.querySelector(".positions_loader"),i=document.querySelector('[ponty-element="count"]'),c=await u("https://oio.ponty-system.se/extapi/job?p=eyJ0IjogW119.c309dfdb4a0280110cd800184bc693d8ad0b8ebb13597ffca9095f95df39aa82");c.forEach(r=>{let s=w(r,o);e==null||e.insertAdjacentElement("afterbegin",s),t==null||t.remove()}),setTimeout(()=>{n==null||n.classList.add("is-not-loading"),e==null||e.classList.add("is-loaded"),i.textContent=c.length,i.style.opacity="1"},500),e==null||e.addEventListener("click",r=>{let s=r.target.closest(".positions_wrapper");s&&(window.location.href=`/tjanster/tjanst?id=${s.dataset.pontyid}`)})},b=async function(){let t=document.querySelector(".position_wrapper"),e=new URLSearchParams(window.location.search).get("id");if(!e){c();return}let i=await u("https://oio.ponty-system.se/extapi/job?p=eyJ0IjogW119.c309dfdb4a0280110cd800184bc693d8ad0b8ebb13597ffca9095f95df39aa82"),[l]=i.filter(s=>s.assignment_id==e);if(!l){c();return}h(l),r();function c(){t==null||t.classList.remove("position-loading"),t==null||t.classList.add("position-empty")}function r(){t==null||t.classList.remove("position-loading"),t==null||t.classList.add("position-loaded")}};function u(t){return fetch(t).then(o=>o.json()).then(o=>{let{jobs:e}=o;return e}).catch(o=>{console.log(o)})}function w(t,o){let e=o.cloneNode(!0),n=e.querySelector('[ponty-element="title"]'),i=e.querySelector('[ponty-element="company"]'),l=e.querySelector('[ponty-element="location"]'),c=e.querySelector('[ponty-element="logo"]');return n&&(n.textContent=t.title),i&&(i.textContent=t.organization_name),l&&(l.textContent=t.location),e&&(e.dataset.pontyid=t.assignment_id),c&&t.logo&&(c.src=t.image_url),c&&!t.logo&&(c.src="https://uploads-ssl.webflow.com/64745e9073bbb3463f837322/647ed34c103fe265433f78c4_logoipsum-263.svg"),e}function h(t){let o=document.querySelector('[ponty-element="title"]'),e=document.querySelector('[ponty-element="company"]'),n=document.querySelector('[ponty-element="name"]'),i=document.querySelector('[ponty-element="location"]'),l=document.querySelector('[ponty-element="extent"]'),c=document.querySelector('[ponty-element="body"]'),r=document.querySelector('[ponty-element="button"]'),s=document.querySelector('[ponty-element="logo"]'),d=document.querySelector('[ponty-element="button2"]'),a=document.querySelector("head"),m=a.querySelector("title"),y=a==null?void 0:a.querySelector('[property="og:title"]'),f=a==null?void 0:a.querySelector('[property="twitter:title"]');o&&(o.textContent=t.title),m&&(m.textContent=t.title+" | OIO Rekrytering"),y&&y.setAttribute("content",t.title+" | OIO Rekrytering"),f&&f.setAttribute("content",t.title+" | OIO Rekrytering"),e&&(e.textContent=t.organization_name),n&&(n.textContent=t.user_name),i&&(i.textContent=t.location),c&&c.replaceWith(S(t.body)),r&&(r.href=t.apply_url),d&&(d.href=t.apply_url),s&&t.logo&&(s.src=t.image_url),s&&!t.logo&&(s.src="https://uploads-ssl.webflow.com/64745e9073bbb3463f837322/647ed34c103fe265433f78c4_logoipsum-263.svg")}function S(t){let e=new DOMParser().parseFromString(t,"text/html"),n=document.createElement("div");for(n.classList.add("text-rich-text");e.body.firstChild;)n.appendChild(e.body.firstChild);return n}window.location.pathname==="/tjanster/tjanst"&&b(),window.location.pathname==="/tjanster"&&g()};window.Webflow||(window.Webflow=[]);window.Webflow.push(()=>{p()});})();
